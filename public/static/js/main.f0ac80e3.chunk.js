(this["webpackJsonprsocket-example"]=this["webpackJsonprsocket-example"]||[]).push([[0],{110:function(e,t,n){},111:function(e,t,n){},154:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),a=n(93),r=n.n(a),s=(n(110),n(111),n(172)),l=n(4),i=n(164),u=n(173),b=n(168),d=n(169),j=n(171),h=n(2),f=function(e){var t=e.name,n=e.size,c=void 0===n?"sm":n,o=e.color,a=void 0===o?"orange":o,r=e.handleClick,s=e.disabled,l=void 0!==s&&s;return Object(h.jsx)(j.a,{size:c,isDisabled:l,colorScheme:a,onClick:r,children:t})},O=n(15),C=n(165),S=function(e){var t=e.disabled,n=void 0!==t&&t,o=e.label,a=e.size,r=void 0===a?"sm":a,s=e.color,b=void 0===s?"blue":s,d=e.handleChange,j=e.labelProps,f=e.styleProps,S=Object(c.useState)(""),k=Object(l.a)(S,2),m=k[0],p=k[1],x=Object(c.useCallback)((function(e){p(e.target.value),d&&d(e.target.value)}),[d]);return Object(h.jsxs)(u.b,{align:"left",width:"100%",children:[o&&Object(h.jsx)(i.a,Object(O.a)(Object(O.a)({fontSize:14},j),{},{children:o})),Object(h.jsx)(C.a,Object(O.a)({focusBorderColor:"".concat(b,".600"),borderColor:"blue.400",backgroundColor:"white",type:"text",isDisabled:n,size:r,value:m,onChange:x},f))]})},k=n(170),m=function(e){var t=e.defaultValue,n=void 0===t?0:t,o=e.disabled,a=void 0!==o&&o,r=e.label,s=e.size,b=void 0===s?"sm":s,d=e.color,j=void 0===d?"blue":d,f=e.handleChange,C=e.labelProps,S=e.styleProps,m=Object(c.useState)(n),p=Object(l.a)(m,2),x=p[0],R=p[1],v=Object(c.useCallback)((function(e,t){R(t),f&&f(t)}),[f,R]);return Object(h.jsxs)(u.b,{align:"left",width:"100%",children:[r&&Object(h.jsx)(i.a,Object(O.a)(Object(O.a)({fontSize:14},C),{},{children:r})),Object(h.jsx)(k.a,Object(O.a)(Object(O.a)({value:x,isDisabled:a,focusBorderColor:"".concat(j,".600"),borderColor:"blue.400",backgroundColor:"white",size:b,onChange:v},S),{},{children:Object(h.jsx)(k.b,{})}))]})},p=n(39),x=n.n(p),R=n(167),v=(x.a.bool,x.a.bool,x.a.string,x.a.shape({}),function(e){var t=e.defaultValue,n=void 0===t?"":t,c=e.disabled,o=void 0!==c&&c,a=e.readonly,r=void 0!==a&&a,s=e.styleProps;return Object(h.jsx)(R.a,Object(O.a)({backgroundColor:"white",value:n,isDisabled:o,isReadOnly:r},s))}),g=n(38),E=n(96),w=n.n(E),T="api-rsocket-v1",q="/rsocket",P="".concat(window.location.hostname,":").concat(window.location.port),D=function(){var e=window.location.protocol.includes("https")?"wss://".concat(P).concat(q):"ws://".concat(P).concat(q);return new g.RSocketClient({serializers:{data:g.JsonSerializer,metadata:g.IdentitySerializer},setup:{keepAlive:6e4,lifetime:18e4,dataMimeType:"application/json",metadataMimeType:"message/x.rsocket.routing.v0"},transport:new w.a({url:e})})},y=function(e){return function(t,n){return{method:e,path:t,queryParams:Object(O.a)({},n)}}},L=y("GET"),z=y("POST"),F=y("PUT"),N=y("DELETE"),G=function(e,t){return{GET:L(e,t),POST:z(e,t),PUT:F(e,t),DELETE:N(e,t)}},M=function(e){var t=Object(c.useMemo)((function(){return{socket:null,close:null}}),[]),n=Object(c.useState)(!1),o=Object(l.a)(n,2),a=o[0],r=o[1],s=Object(c.useCallback)((function(e){t&&(t.socket=e),!a&&r(!0)}),[t,a]),i=Object(c.useCallback)((function(e){return t&&(t.cancelConnection=e)}),[t]),u=Object(c.useCallback)((function(e){return console.error("connectRSocket error",e)}),[]),b=Object(c.useCallback)((function(e){if(!a){var n=function(e){var t=e.onSubscribeConnect,n=e.onCompleteConnect,c=e.onErrorConnect,o=D();return o.connect().subscribe({onComplete:function(e){n&&n(e)},onError:function(e){return c&&c(e)},onSubscribe:function(e){return t&&t(e)}}),o}({onCompleteConnect:function(t){s(t),e&&e()},onSubscribeConnect:i,onErrorConnect:u});return t.client=n,t.close=function(){n.close()},n}}),[a]),d=Object(c.useCallback)((function(e){if(a){var n=t.close;n&&n(),e&&e(),r(!1),t.close=null,t.socket=null}}),[a]);Object(c.useEffect)((function(){return e&&b(),function(){d()}}),[e,a,s,i,u]);var j=Object(c.useCallback)((function(e){var n=e.onSuccess,c=e.onFailure,o=e.onAbort,r=e.data,s=e.channel;a&&function(e,t){if(e&&t){var n=t.data,c=t.channel,o=t.onSubscribeRequestResponse,a=t.onErrorRequestResponse,r=t.onCompleteRequestResponse,s=t.onNextRequestResponse,l="".concat(c,".").concat(T),i=String.fromCharCode(l.length)+l;e.requestResponse({data:n,metadata:i}).subscribe({onSubscribe:function(e){return o&&o(e)},onNext:function(e){return s&&s(e&&e.data)},onError:function(e){return a&&a(e)},onComplete:function(e){return r&&r(e&&e.data)}})}}(t.socket,{data:r,channel:s,onCompleteRequestResponse:n,onErrorRequestResponse:c,onSubscribeRequestResponse:o})}),[a]),h=Object(c.useCallback)((function(e){var n=e.onSuccess,c=e.onFailure,o=e.onSubscribe,r=e.onFinish,s=e.data,l=e.channel,i=e.datalength;a&&function(e,t){if(e&&t){var n=t.data,c=t.datalength,o=t.channel,a=t.onSubscribeRequestStream,r=t.onErrorRequestStream,s=t.onCompleteRequestStream,l=t.onNextRequestStream,i="".concat(o,".").concat(T),u=String.fromCharCode(i.length)+i;e.requestStream({data:n,metadata:u}).subscribe({onSubscribe:function(e){a&&a(e),e.request(c||16777215)},onNext:function(e){return l&&l(e&&e.data)},onError:function(e){return r&&r(e)},onComplete:function(e){return s&&s(e&&e.data)}})}}(t.socket,{data:s,datalength:i,channel:l,onNextRequestStream:n,onErrorRequestStream:c,onSubscribeRequestStream:o,onCompleteRequestStream:r})}),[a]);return Object(c.useMemo)((function(){return a?{isConnected:a,onConnectRSocket:b,onDisconnectRSocket:d,onRequestResponse:j,onRequestStream:h}:{isConnected:a,onConnectRSocket:b,onDisconnectRSocket:d}}),[a,b,d,j,h])},J=Object(c.createContext)({}),U=function(e){var t=e.children,n=M(!1);return Object(h.jsx)(J.Provider,{value:n,children:t})},V=function(e){var t=e.handleLog,n=e.handleLogDisable,o=Object(c.useState)(""),a=Object(l.a)(o,2),r=a[0],s=a[1],j=Object(c.useState)(""),O=Object(l.a)(j,2),C=O[0],k=O[1],p=Object(c.useState)(""),x=Object(l.a)(p,2),R=x[0],v=x[1],g=Object(c.useState)(2e9),E=Object(l.a)(g,2),w=E[0],T=E[1],q=function(){var e=Object(c.useContext)(J),t=e.isConnected,n=e.onConnectRSocket,o=e.onDisconnectRSocket,a=e.onRequestResponse,r=e.onRequestStream;return t?{isConnected:t,constructRSocketData:G,connectRSocket:n,disconnectRSocket:o,requestResponse:a,requestStream:r}:{isConnected:t,constructRSocketData:G,connectRSocket:n,disconnectRSocket:o}}(),P=q.isConnected,D=q.constructRSocketData,y=q.connectRSocket,L=q.disconnectRSocket,z=q.requestResponse,F=q.requestStream,N=Object(c.useCallback)((function(){P||y((function(){t&&t("RSocket: Connected successfully..."),n&&n(!1)}))}),[P,y,t,n]),M=Object(c.useCallback)((function(){P&&L((function(){t&&t("RSocket: Disconnected successfully..."),n&&n(!0)}))}),[P,L,t,n]),U=Object(c.useCallback)((function(e){try{return JSON.stringify(e,null,"\t")}catch(t){console.error(t)}}),[]),V=Object(c.useMemo)((function(){if(C)try{var e=R&&JSON.parse(R);return D(C,e)}catch(t){return null}}),[D,C,R]),A=Object(c.useCallback)((function(e){if(P&&r&&V){var n=null;switch(e){case"GET":n=V.GET;break;case"PUT":n=V.PUT;break;case"POST":n=V.POST;break;case"DELETE":n=V.DELETE}z({channel:r,data:n,onSuccess:function(e){t&&t(U(e))},onFailure:function(e){return t&&t(e)}})}}),[P,r,V,z,t,U]),B=Object(c.useCallback)((function(){F({data:{},datalength:w,channel:r,onSubscribe:function(){t&&t("RSocket: Successfully subscribed on a stream '".concat(r,"'..."))},onSuccess:function(e){t&&t(U(e))},onFailure:function(e){return t&&t(e)}})}),[r,w,t,U,F]);return Object(h.jsx)(i.a,{justify:"flex-start",width:"100%",backgroundColor:"blue.700",borderRadius:4,p:2,children:Object(h.jsxs)(u.b,{width:"100%",align:"flex-start",children:[Object(h.jsxs)(u.a,{children:[Object(h.jsx)(f,{name:"Connect",disabled:P,handleClick:N}),Object(h.jsx)(f,{name:"Disconnect",disabled:!P,handleClick:M}),P?Object(h.jsx)(b.a,{w:4,h:4,color:"green.600"}):Object(h.jsx)(d.a,{w:4,h:4,color:"red.600"}),Object(h.jsx)(i.a,{color:"white",fontSize:14,children:"Connection Status"})]}),Object(h.jsxs)(u.a,{width:"100%",children:[Object(h.jsx)(S,{label:"Channel",disabled:!P,handleChange:s,labelProps:{color:"white"}}),Object(h.jsx)(S,{label:"Path",disabled:!P,handleChange:k,labelProps:{color:"white"}}),Object(h.jsx)(S,{label:"Parameters",disabled:!P,handleChange:v,labelProps:{color:"white"}})]}),Object(h.jsxs)(u.a,{children:[Object(h.jsx)(f,{name:"GET",disabled:!P||!r||!C,handleClick:function(){return A("GET")}}),Object(h.jsx)(f,{name:"POST",disabled:!P||!r||!C,handleClick:function(){return A("POST")}}),Object(h.jsx)(f,{name:"PUT",disabled:!P||!r||!C,handleClick:function(){return A("GET")}}),Object(h.jsx)(f,{name:"DELETE",disabled:!P||!r||!C,handleClick:function(){return A("DELETE")}})]}),Object(h.jsxs)(u.a,{align:"flex-end",children:[Object(h.jsx)(f,{name:"Stream",disabled:!P||!r,handleClick:B}),Object(h.jsx)(m,{defaultValue:2e9,label:"Number of messages",disabled:!P||!r,handleChange:T,labelProps:{color:"white"}})]})]})})},A=function(e){var t=e.value,n=e.disabled,c=void 0!==n&&n,o=e.clear,a=void 0===o?function(){}:o;return Object(h.jsxs)(u.b,{backgroundColor:"blue.700",borderRadius:4,width:"100%",height:"100%",align:"flex-start",p:2,children:[Object(h.jsx)(f,{name:"CLEAR LOG",handleClick:a}),Object(h.jsx)(v,{disabled:c,defaultValue:t,readonly:!0,styleProps:{align:"left",height:"100%",whiteSpace:"pre"}})]})},B=function(){var e=Object(c.useState)("//"),t=Object(l.a)(e,2),n=t[0],o=t[1],a=Object(c.useState)(!0),r=Object(l.a)(a,2),s=r[0],b=r[1],d=Object(c.useCallback)((function(e){o("".concat(n,"\n").concat(e))}),[n]),j=Object(c.useCallback)((function(){return o("//")}),[]);return Object(h.jsx)(U,{children:Object(h.jsx)(i.a,{width:"100%",height:"100Vh",backgroundColor:"blue.800",children:Object(h.jsxs)(u.b,{width:"100%",children:[Object(h.jsx)(V,{handleLogDisable:b,handleLog:d}),Object(h.jsx)(A,{disabled:s,value:n,clear:j})]})})})};var I=function(){return Object(h.jsx)(s.a,{children:Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(B,{})})})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,174)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),o(e),a(e),r(e)}))};r.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(I,{})}),document.getElementById("root")),H()}},[[154,1,2]]]);
//# sourceMappingURL=main.f0ac80e3.chunk.js.map